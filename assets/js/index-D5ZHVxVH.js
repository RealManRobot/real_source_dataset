import{_ as g,a as y}from"./index-CZhahXZM.js";import{b2 as b,aL as v,t as c,v as m,A as f,O as u,Q as h,W as I,Y as w,Z as S,V as p,P as L,ao as x,R as B}from"./vendor-BUeuk1HV.js";import"./element-CMqaKTXE.js";function N(d,i){function t(){const r=_.searchCover(d.list,{id:d.item.id},a=>({...a,isSpread:!a.isSpread}));i("setList",r)}function C(r){const{item:a}=d;let n=_.tree2flat(d.list),o=[],s=_.safeGet(()=>n.find(e=>e.id==a.id).pid,"");for(n=n.map(e=>(e.id==a.id?(e.isChecked=r,e.isChecked&&(e.isIndeterminate=!1)):(e.pid==a.id||o.includes(e.pid))&&(e.isChecked=r,o.push(e.id),e.isChecked&&(e.isIndeterminate=!1)),e));s!=0;)n=_.searchCover(n,{id:s},e=>{const k=n.filter(l=>l.pid==s);return e.isChecked=k.every(l=>l.isChecked),e.isIndeterminate=k.some(l=>l.isChecked||l.isIndeterminate)&&!e.isChecked,e}),s=_.safeGet(()=>n.find(e=>e.id==s).pid,0);i("setList",_.flat2tree(n)),i("getCurItem",{...a,isChecked:r})}return{emit:i,spreadItem:t,checkItem:C}}const O={components:{CommNode:b(()=>y(()=>Promise.resolve().then(()=>j),void 0))},props:{item:{type:Object,default:()=>({})},depth:{type:Number,default:0},list:{type:Array,default:()=>[]}},emits:["setList","getCurItem"],setup(d,{emit:i}){return N(d,i)}},P={class:"dib"},V={key:0};function z(d,i,t,C,r,a){var o;const n=v("CommNode");return m(),c("div",null,[f("div",{class:"f ac fs14 mb8",style:I({paddingLeft:`${t.depth*30}px`})},[t.item.children.length?(m(),c("svg",{key:0,onClick:i[0]||(i[0]=(...s)=>d.spreadItem&&d.spreadItem(...s)),t:"1744881089341",class:h(["pr2 poi trans3",t.item.isSpread?"":"rotate90"]),viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5391",width:"14",height:"14"},[...i[4]||(i[4]=[f("path",{d:"M311.325 892.881l442.44-333.271c30.745-23.159 30.745-73.365 0-96.528l-442.44-333.266c-28.506-21.467-64.149 5.387-64.149 48.329V844.61c0 42.884 35.643 69.747 64.149 48.271z",fill:"#777777","p-id":"5392"},null,-1)])],2)):u("",!0),f("div",{onClick:i[1]||(i[1]=s=>d.checkItem(!t.item.isChecked)),class:"f poi"},[t.item.isShowCheckbox?(m(),c("div",{key:0,class:h(["rds2 rel trans3 f ac xc mr5 ovh borderBox",t.item.disabled?"disabled":""]),style:I({width:"17px",height:"17px",background:t.item.isChecked||t.item.isIndeterminate?"#1aada7":"#fff",border:t.item.isChecked||t.item.isIndeterminate?"none":"1px solid #dcdee2"})},[w(f("div",{class:h(["trans3",t.item.isIndeterminate?"rowLine":t.item.isChecked?"currect":""])},null,2),[[S,t.item.isIndeterminate||t.item.isChecked]])],6)):u("",!0),f("div",P,p(t.item.name),1)])],4),t.item.isSpread&&((o=t.item.children)!=null&&o.length)?(m(),c("div",V,[(m(!0),c(L,null,x(t.item.children,s=>(m(),B(n,{key:s.id,item:s,depth:t.depth+1,list:t.list,onSetList:i[2]||(i[2]=e=>d.emit("setList",e)),onGetCurItem:i[3]||(i[3]=e=>d.emit("getCurItem",e))},null,8,["item","depth","list"]))),128))])):u("",!0)])}const A=g(O,[["render",z],["__scopeId","data-v-eca92df2"]]),j=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{A as default};
